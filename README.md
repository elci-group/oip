# OIP – Overwrite In Place

**OIP** is a Rust-based utility designed for developers and AI-assisted workflows, enabling rapid, safe, and intelligent file updates directly from your clipboard. Ideal for prototyping and iterating on code generated by language models like ChatGPT, Gemini, and Grok.

---

## Features

- **Simple Overwrite**  
  Quickly replace any file with your clipboard content:
  ```
  bash
  oip path/to/file.rs
  '''

* **Interactive Smart Mode (`-i`)**
  Continuously monitors your clipboard, detects the most relevant project file, and updates it automatically.
  Features include:

  * Project root detection via `Cargo.toml` or `package.json`
  * Multi-language awareness (Rust, Python, JavaScript, TypeScript, generic text)
  * Clipboard stability detection
  * Diff preview before overwriting

* **Language Detection & Waffle Splitting**
  Extract and intelligently apply multi-block LLM outputs to the correct file.

* **Temporal Tethering & Backups**
  Keep historical backups and avoid accidental overwrites. Each change is timestamped and reversible.

* **Revert Changes**
  Restore the previous version of a file:

  ```
  bash
  oip --revert
  ```

* **Smart Script Matching**
  When a target file isn’t explicitly provided, OIP searches your project, analyzes candidate scripts, and applies the clipboard to the best match.

---

## Installation

Ensure you have Rust installed and run:

```
bash
git clone https://github.com/elci-group/oip.git
cd oip
cargo build --release
cargo install --path .
```

---

## Usage

```
bash
# Overwrite a specific file
oip src/main.rs

# Run interactive mode
oip -i

# Revert the last applied change
oip --revert
```

**Interactive Mode Flow:**

1. OIP monitors the clipboard.
2. Clipboard changes trigger stability detection.
3. OIP searches project files (`src/*.rs`) if no target is provided.
4. Diff is previewed before overwriting.
5. File is updated automatically if confirmed.

---

## Supported Languages

* Rust (`.rs`)
* Python (`.py`)
* JavaScript (`.js`)
* TypeScript (`.ts`)
* Generic text files (`.txt`)

Additional languages can be added via `languages.rs` for extensibility.

---

## Safety & Reliability

* Maintains backups before every overwrite.
* Detects file similarity before applying clipboard content in interactive mode.
* Multi-step temporal tethering prevents accidental overwrites due to rapid clipboard changes.

---

## Contributing

Contributions are welcome! Please submit issues or pull requests for bug fixes, feature enhancements, or new language support.

---

## License

MIT License © [Rory Spring-Vanhorne]

```

---
